From eb79ee1659652808c5503fc173dc49a05eb7a227 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Wed, 19 Sep 2018 07:46:09 +0300
Subject: [PATCH 1/3] test

Change-Id: I1f18fd7b24004a307b9d475592a59759559473e1
---
 runtime/jit/profile_compilation_info.cc | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/runtime/jit/profile_compilation_info.cc b/runtime/jit/profile_compilation_info.cc
index 12081731ef..8107973f14 100644
--- a/runtime/jit/profile_compilation_info.cc
+++ b/runtime/jit/profile_compilation_info.cc
@@ -1073,7 +1073,8 @@ bool ProfileCompilationInfo::Load(
   }
 }
 
-bool ProfileCompilationInfo::VerifyProfileData(const std::vector<const DexFile*>& dex_files) {
+bool ProfileCompilationInfo::VerifyProfileData(const std::vector<const DexFile*>& /*dex_files*/) {
+#if 0
   std::unordered_map<std::string, const DexFile*> key_to_dex_file;
   for (const DexFile* dex_file : dex_files) {
     key_to_dex_file.emplace(GetProfileDexFileKey(dex_file->GetLocation()), dex_file);
@@ -1086,13 +1087,13 @@ bool ProfileCompilationInfo::VerifyProfileData(const std::vector<const DexFile*>
     }
     const DexFile* dex_file = it->second;
     const std::string& dex_location = dex_file->GetLocation();
-    if (!ChecksumMatch(dex_data->checksum, dex_file->GetLocationChecksum())) {
+    /*if (!ChecksumMatch(dex_data->checksum, dex_file->GetLocationChecksum())) {
       LOG(ERROR) << "Dex checksum mismatch while verifying profile "
                  << "dex location " << dex_location << " (checksum="
                  << dex_file->GetLocationChecksum() << ", profile checksum="
                  << dex_data->checksum;
       return false;
-    }
+    }*/
 
     if (dex_data->num_method_ids != dex_file->NumMethodIds()) {
       LOG(ERROR) << "Number of method ids in dex file and profile don't match."
@@ -1162,6 +1163,7 @@ bool ProfileCompilationInfo::VerifyProfileData(const std::vector<const DexFile*>
       }
     }
   }
+#endif
   return true;
 }
 
-- 
2.11.0

