From 0c042056577b5801325c14b3f198fcdfa107e596 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Sun, 2 Sep 2018 05:07:32 +0300
Subject: [PATCH 05/24] libEGL: fix for P preview

Change-Id: I4575067ed8f0bead1dcdc5674b9cf42bad1166cb
---
 opengl/libs/EGL/eglApi.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/opengl/libs/EGL/eglApi.cpp b/opengl/libs/EGL/eglApi.cpp
index 37891cbe0..3049f29ee 100644
--- a/opengl/libs/EGL/eglApi.cpp
+++ b/opengl/libs/EGL/eglApi.cpp
@@ -616,14 +616,14 @@ void getNativePixelFormat(EGLDisplay dpy, egl_connection_t* cnx, EGLConfig confi
     cnx->egl.eglGetConfigAttrib(dpy, config, EGL_COLOR_COMPONENT_TYPE_EXT, &componentType);
 
 #if WORKAROUND_BUG_10194508
-    int intFormat = (int)(*format);
+    int intFormat = (int)(format);
     if (!cnx->egl.eglGetConfigAttrib(dpy, config, EGL_NATIVE_VISUAL_ID,
             &intFormat)) {
         ALOGE("eglGetConfigAttrib(EGL_NATIVE_VISUAL_ID) failed: %#x",
                 eglGetError());
         format = 0;
     }
-    *format = (android_pixel_format)intFormat;
+    format = (android_pixel_format)intFormat;
 #else
     EGLint a = 0;
     EGLint r, g, b;
-- 
2.17.0

