From f273804cf4ee2f4c9b769da091970d9b21213103 Mon Sep 17 00:00:00 2001
From: Shilin Victor <radicaldreamer00001@gmail.com>
Date: Fri, 29 Mar 2019 22:51:37 +0300
Subject: [PATCH 12/45] frameworks-av_WW002-Fix-WaveGenerator-memory-leak.patch

Change-Id: I512296f742dc48da7faa1ee7586fc36f292c9a99
---
 media/libmedia/ToneGenerator.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/media/libmedia/ToneGenerator.cpp b/media/libmedia/ToneGenerator.cpp
index af75e0f1b..2a661a203 100644
--- a/media/libmedia/ToneGenerator.cpp
+++ b/media/libmedia/ToneGenerator.cpp
@@ -865,6 +865,7 @@ ToneGenerator::~ToneGenerator() {
         ALOGV("Delete Track: %p", mpAudioTrack.get());
         mpAudioTrack.clear();
     }
+    clearWaveGens();
 }
 
 ////////////////////////////////////////////////////////////////////////////////
-- 
2.11.0

