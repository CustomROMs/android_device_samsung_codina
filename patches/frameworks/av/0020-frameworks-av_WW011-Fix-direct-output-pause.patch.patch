From d411936f9226c08b789ecf487789fff0d451c03a Mon Sep 17 00:00:00 2001
From: Shilin Victor <radicaldreamer00001@gmail.com>
Date: Fri, 29 Mar 2019 22:51:38 +0300
Subject: [PATCH 20/45] frameworks-av_WW011-Fix-direct-output-pause.patch

Change-Id: Ib78018ae61aa57a686ab459b6a11a2b6548d098b
---
 services/audioflinger/Threads.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/services/audioflinger/Threads.cpp b/services/audioflinger/Threads.cpp
index d7c9c4772..21b2a7e3b 100644
--- a/services/audioflinger/Threads.cpp
+++ b/services/audioflinger/Threads.cpp
@@ -4899,7 +4899,7 @@ bool AudioFlinger::DirectOutputThread::shouldStandby_l()
                            mTracks[mTracks.size() - 1]->mState == TrackBase::IDLE;
     }
 
-    return !mStandby && !(trackPaused || (mHwPaused && !trackStopped));
+    return !mStandby && !((mType == OFFLOAD && trackPaused) || (mHwPaused && !trackStopped));
 }
 
 // getTrackName_l() must be called with ThreadBase::mLock held
-- 
2.11.0

