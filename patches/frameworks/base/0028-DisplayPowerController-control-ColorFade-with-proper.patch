From f52fe06d48b2e83b9fe6d89b79cb2288b2c6c772 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Sun, 30 Sep 2018 02:04:14 +0300
Subject: [PATCH 28/28] DisplayPowerController: control ColorFade with property

Change-Id: I64ba72c36a445f75dc23b14fd59ea162daa28a99
---
 .../core/java/com/android/server/display/DisplayPowerController.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/services/core/java/com/android/server/display/DisplayPowerController.java b/services/core/java/com/android/server/display/DisplayPowerController.java
index ecc2214d7f6..ff58a6f727c 100644
--- a/services/core/java/com/android/server/display/DisplayPowerController.java
+++ b/services/core/java/com/android/server/display/DisplayPowerController.java
@@ -46,6 +46,7 @@ import android.os.Message;
 import android.os.PowerManager;
 import android.os.RemoteException;
 import android.os.SystemClock;
+import android.os.SystemProperties;
 import android.os.Trace;
 import android.os.UserHandle;
 import android.provider.Settings;
@@ -465,7 +466,7 @@ final class DisplayPowerController implements AutomaticBrightnessController.Call
             }
         }
 
-        mColorFadeEnabled = false; //!ActivityManager.isLowRamDeviceStatic();
+        mColorFadeEnabled = SystemProperties.getBoolean("sys.colorfade", false); //!ActivityManager.isLowRamDeviceStatic();
         mColorFadeFadesConfig = resources.getBoolean(
                 com.android.internal.R.bool.config_animateScreenLights);
 
-- 
2.11.0

