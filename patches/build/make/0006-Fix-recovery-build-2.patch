From ea3cde0eb0a638d0b21a1a6d20e4c72d0aedb7cb Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 20 Aug 2018 22:57:43 +0300
Subject: [PATCH 06/30] Fix recovery build [2]

Change-Id: I9512682a4d166f749db38eafc196dfc6f4367a8b
---
 core/Makefile | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/core/Makefile b/core/Makefile
index 7dde13552..7f89fd510 100644
--- a/core/Makefile
+++ b/core/Makefile
@@ -1710,7 +1710,11 @@ ifeq ($(TARGET_NOT_USE_GZIP_RECOVERY_RAMDISK),true)
 diff_tool := $(HOST_OUT_EXECUTABLES)/bsdiff
 endif
 intermediates := $(call intermediates-dir-for,PACKAGING,recovery_patch)
+ifndef BOARD_CANT_BUILD_RECOVERY_FROM_BOOT_PATCH
 RECOVERY_FROM_BOOT_PATCH := $(intermediates)/recovery_from_boot.p
+else
+RECOVERY_FROM_BOOT_PATCH :=
+endif
 $(RECOVERY_FROM_BOOT_PATCH): PRIVATE_DIFF_TOOL := $(diff_tool)
 $(RECOVERY_FROM_BOOT_PATCH): \
 		$(INSTALLED_RECOVERYIMAGE_TARGET) \
-- 
2.11.0

