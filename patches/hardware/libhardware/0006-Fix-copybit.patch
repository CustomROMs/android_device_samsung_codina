From ffd393295adc0f3da52c4a886fa61a518f3259de Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 20 Aug 2018 22:57:43 +0300
Subject: [PATCH 6/6] Fix copybit

---
 include/hardware/audio.h    | 2 ++
 include/hardware/gralloc1.h | 4 ++++
 2 files changed, 6 insertions(+)

diff --git a/include/hardware/audio.h b/include/hardware/audio.h
index c452578..36a905c 100644
--- a/include/hardware/audio.h
+++ b/include/hardware/audio.h
@@ -395,6 +395,8 @@ struct audio_stream_out {
 };
 typedef struct audio_stream_out audio_stream_out_t;
 
+struct audio_broadcast_stream;
+
 struct audio_stream_in {
     /**
      * Common methods of the audio stream in.  This *must* be the first member of audio_stream_in
diff --git a/include/hardware/gralloc1.h b/include/hardware/gralloc1.h
index 0a6843f..3f8a399 100644
--- a/include/hardware/gralloc1.h
+++ b/include/hardware/gralloc1.h
@@ -155,7 +155,11 @@ typedef enum {
     GRALLOC1_FUNCTION_UNLOCK = 20,
     GRALLOC1_FUNCTION_SET_LAYER_COUNT = 21,
     GRALLOC1_FUNCTION_GET_LAYER_COUNT = 22,
+#ifdef STE_HARDWARE
+    GRALLOC1_LAST_FUNCTION = 23,
+#else
     GRALLOC1_LAST_FUNCTION = 22,
+#endif
 } gralloc1_function_descriptor_t;
 
 typedef enum {
-- 
2.17.0

